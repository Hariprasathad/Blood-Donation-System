{% extends 'layout.html' %}

{% block title %}Request Blood - BloodLink{% endblock %}

{% block content %}
<div class="auth-wrapper">
    <div class="card auth-card">
        <h2><i class="fas fa-hand-holding-droplet text-primary"></i> Request Blood</h2>
        <p class="text-light mb-4">Every detail helps us find the right donor for you.</p>

        <form method="post" action="{{ url_for('send') }}" class="modern-form">
            <div class="form-group">
                <label for="phone"><i class="fas fa-phone"></i> Contact Number</label>
                <input type="tel" id="phone" name="phone" placeholder="+91 98765 43210" required>
            </div>

            <div class="form-row" style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
                <div class="form-group">
                    <label for="blood_group"><i class="fas fa-droplet"></i> Blood Group</label>
                    <select id="blood_group" name="blood_group" required>
                        <option value="" disabled selected>Select</option>
                        <option value="A+">A+</option>
                        <option value="A-">A-</option>
                        <option value="B+">B+</option>
                        <option value="B-">B-</option>
                        <option value="AB+">AB+</option>
                        <option value="AB-">AB-</option>
                        <option value="O+">O+</option>
                        <option value="O-">O-</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="units"><i class="fas fa-vial"></i> Units</label>
                    <input type="number" id="units" name="units" min="1" max="10" value="1" required>
                </div>
            </div>

            <div class="form-group">
                <label for="city"><i class="fas fa-hospital"></i> Hospital / Location</label>
                <input type="text" id="city" name="city" placeholder="e.g. Apollo, AIIMS, or Local Clinic" required>
            </div>

            <div class="form-group">
                <div class="d-flex justify-content-between align-items-center mb-2">
                    <label for="description" style="margin-bottom: 0;"><i class="fas fa-pen-nib"></i> Additional
                        Notes</label>
                    {% if gemini_available %}
                    <span class="badge badge-success"><i class="fas fa-wand-magic-sparkles"></i> AI Enhanced</span>
                    {% endif %}
                </div>
                <textarea id="description" name="description" placeholder="Briefly explain the condition or urgency..."
                    rows="3"></textarea>
                <small class="text-light">Max 60 words for AI grammar enhancement.</small>
            </div>

            <button type="submit" class="btn btn-primary w-100">
                <i class="fas fa-paper-plane"></i> Post Request
            </button>
        </form>
    </div>
</div>
{% endblock %}